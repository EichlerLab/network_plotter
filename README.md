# network_plotter
Scripts to plot networks. Especially useful for plotting MAGI (https://eichlerlab.gs.washington.edu/MAGI/) results. 

## Software requirements that can be installed using Anaconda
```
pandas
numpy
matplotlib
networkx
pygraphviz
```
## Minimum data required to run
Download from https://eichlerlab.gs.washington.edu/MAGI/
* PPI network
 * tab-separated text file with gene1 in the first column and gene2 in the second column. This file should only contain pairs of genes with have ppis (see StringNew_BioGrid for example).
* coexpression table
 * tab-separated text file with gene1 in the first column, gene2 in the second column, and pearson_correlation_coefficient_r^6 in the third column (see adj1.csv.Tab.BinaryFormat for example). Note: this script will select those with significant coexpression 

User-generated from MAGI
* module_file= csv in the format: gene,module_name
* gene data file
 * csv file in the format: GeneName,Mutation_Score,Number_of_LoF,Number_of_Missense

## Running network_plotter
1. First run the modules_to_edgelist.py script as follows:
```
python modules_to_edgelist.py path/to/module_file.txt path/to/coexpression_data.txt path/to/ppi_data.txt

```

2. Second run the edgelist_to_graph.py script as follows:
```
python path/to/edgelist_to_graph.py path/to/module_file path/to/edgelist_all path/to/edgelist_within path/to/gene_data path/to/layout_input display_all_edges:<'True'or'False'or'name_of_module'> choose_mods:<'All' or [list,of,mods,to,be,graphed]>
```

### More Information on the edgelist_to_graph.py script
* edgelist_all= (generated by the 'modules_to_edgelist.py' script) tab delimitated csv in the format: gene1	gene2	pearson_correlation_coefficient_r^6
* edgelist_within= (generated by the 'modules_to_edgelist.py' script) tab delimitated csv in the format: gene1	gene2	pearson_correlation_coefficient_r^6
* layout_input = csv in the format: GeneName,X-coordinate,Y-coordinate 
 * type 'None' to generate a new layout.
 * note: if all the edges between modules are displayed on a graph and a layout is generated for this graph, the modules will be mixed together. To generate a layout that is organized by module, put 'False' for the 'display_all_edges' argument. The generated layout will be saved to 'layout_output.txt'. This layout can then be used to display edges between modules without the modules getting mixed together. 
* display_all_edges: True/False/ModuleName ('True' displays all the edges that connect modules to one another. 'False' displays only the edges within modules. typing the name of a module displays all the edges that connect that module to other modules)
* choose_mods: comma separated list of modules to be included on the graph. ex: mod1,mod2,mod4. To include all modules in the module_file type 'All'.

